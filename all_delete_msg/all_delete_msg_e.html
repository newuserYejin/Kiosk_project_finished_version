<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirm full cancellation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <!-- <link type="text/css" rel="stylesheet" href="help_msg.css"/> -->
</head>

<body>

    <!-- Modal -->
    <div class="modal fade help_modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered help_modal_dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <p class="modal-title fs-5" id="exampleModalLabel">Check for full cancellation</p>
                    <!-- <button type="button" class="btn-close" id="cancleButton" data-bs-dismiss="modal" aria-label="Close"></button> -->
                </div>
                <div class="modal-body">
                    <p>If you cancel the entire order, all your orders will disappear.</p>
                    <p>Do you want to cancel all of them?</p>
                    <p>Yes: Cancel the entire order history<br>
                    No : Use continuously without cancellation of order history</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary yesButton" id="yesButton" data-bs-dismiss="modal">Yes</button>
                    <button type="button" class="btn btn-secondary cancleButton" id="cancleButton" data-bs-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 페이지 로딩 후 모달 창을 자동으로 표시
        document.addEventListener("DOMContentLoaded", function () {
            const modal = new bootstrap.Modal(document.getElementById("exampleModal"));
            modal.show();

        });
        // 클릭 이벤트가 없을 경우 8초 후에 페이지 이동
        function startTimer() {
          timeoutId = setTimeout(function () {
            location.href = 'http://localhost:3001/selectorder/selectorder.html'; // 10초 후에 첫 페이지로 이동
          }, 10000);
        }

        // 모달 창이 열렸을 때 타이머 시작
        startTimer();

        // const yesButton = document.getElementById('yesButton'); //big이나 basic에서 선언 중

        function AllDelete() {
                // DELETE 요청 보내는 코드 작성
                fetch("http://localhost:3001/reset", {
                    method: "POST", // 또는 GET 요청으로 변경할 수 있습니다.
                })
                    .then((response) => response.json())
                    .then((data) => {
                        // 초기화 작업 완료 후 실행할 코드를 여기에 추가합니다.
                        console.log(data.message); // 서버 응답 메시지 출력 예제
                        location.reload();
                    })
                    .catch((error) => {
                        console.error("Error reset data:", error);
                    });
            }
        
        // yesButton.addEventListener('click', function () {

        // })

        // const cancleButton = document.getElementById('cancleButton');

        // cancleButton.addEventListener('click', function () {
        //     location.href = 'http://localhost:3001/selectorder/selectorder.html'; //처음 화면으로 이동
        // })
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>

</body>